# Day 12

https://adventofcode.com/2024/day/12

2D 그래프 문제입니다

## Part 1

"넓이" 뿐 아니라, "둘레"까지 계산해야 합니다.

인접한 타일이 나와 같지 않을 때 둘레가 1씩 늘어난다는 조건이 있으므로,  
서칭할 때 타일 하나당 넓이+1, 주위 네 개 타일 중 나와 같지 않을 때마다 둘레+1 해주면 됩니다.

사실상 그래프 전체에 대해 DFS 한 번 돌리는 것과 다르지 않아서 총 O(V+E) ~= O(n^2)로 풀 수 있습니다.

## Part 2

그냥 "둘레"를 구할 때는 사실 꽤나 간단했는데, 이번에는 "변의 수"를 세야 합니다.

어떻게 할지 고민하다가 그냥 O(n^2)로 풀기로 했습니다.

일단 서칭을 돌린 다음에, 마킹을 다 합니다.

그 다음에, "세로로" 한 번 돌면서, 변이 "끊기는" 지점들을 다 세면, 세로변의 개수를 셀 수 있습니다:

- 밑의 타일과 현재 타일이 모두 왼쪽 변이 존재한다면: 변이 끊기지 않는 것이므로 변의 수를 더해주지 않습니다.
- 현재 타일엔 왼쪽 변이 존재하지만 왼쪽엔 존재하지 않을 때: 이때만 1을 더해 줍니다.
- 그리고 나머지 두개 케이스에선 더해주지 않습니다.

```
............
.....AAA....
.+1->AAA....
.......A....
.....AAA....
.+1->AAA....
............
```

이러면 "세로", "왼쪽" 변의 수를 다 셀 수 있고,
"위쪽", "아래쪽", "오른쪽"에 대해 다 세 주면 O(n^2)에 구할 수 있습니다.

DFS, 변의 수 세기 모두 O(n^2)로 총 시간복잡도도 O(n^2)입니다.

## 특이 사항

그냥 Char로 타일끼리 비교했더니 아래와 같은 상황에서 "한 덩어리"를 잘못 세는 문제가 발생했습니다.

(두 덩어리여야 하는데, 맨 오른쪽 줄의 변을 셀 때 오른쪽 밑 1x1 덩어리가 고려됨)

```
.......
..AAA..
..A....
..A.A..
.......
```

이에 넓이를 구하는 과정에서 '.'으로 마킹해주는 과정을 더했습니다.
