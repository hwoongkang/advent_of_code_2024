# Day 16

https://adventofcode.com/2024/day/16

Dijkstra 응용 문제입니다.

## Part 1

이미 응용입니다.

그냥 "좌표"로만 풀면 안 됩니다.

```
########
###..O##
###.#.##
#...#.##
#.###.##
#S....##
########
```

O로 표시한 부분 같은 경우인데요,

"밑쪽" 경로를 따라가는게 O까지는 더 cost가 적지만, O에 도착했을 때 북쪽을 보고 있게 됩니다.

"위쪽" 경로를 따라갔을 때 밑의 경로보다 비쌌다고 고려를 아예 안하면 안 된다는 뜻이죠: 동쪽을 보고 있는게 이후에 더 저렴하게 만들 수 있으니까.

그럼 그냥 바라보고 있는 방향까지 고려해서 3차원 공간에서 dijkstra를 돌리면 됩니다.

지도를 n\*n이라 했을 때 vertex 개수는 n^2입니다.

(n^2) 개 vertex 마다 4개의 edge를 검사하며, 그때마다 heap insert가 일어나므로 총 시간 복잡도는 O(n^2log(n^2))==O(n^2 logn)입니다.

실제 입력값은 n=140으로 충분합니다.

## Part 2

3차원 dijkstra가 필요하단 걸 캐치하는데 시간을 너무 많이써서 파트 2는 또 얼마나 어려울지 긴장했는데 다행히 할만합니다.

최소 비용 경로 "단 하나"가 아니라, 최소 비용 경로와 비용이 같은 경로 여러 개를 모두 추출해야 합니다.

힙에 넣을 때의 부등호에 등호 조건을 추가해주는 등의 조작 몇 개만 가하면 어렵지 않게 풀 수 있습니다.

다만 dijkstra를 통해 판단해낸 최소 비용 경로를 추출하는 과정에서 vector 를 다 들고 다니느라 시간복잡도를 좀 썼는데, 이 부분 더 좋은 방법은 없는지 추가 공부를 좀 해야겠습니다.
